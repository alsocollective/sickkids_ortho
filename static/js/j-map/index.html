<html>
<head>
	<title></title>
	<style type="text/css">
	html,body{
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
	}
	#google-maps{
		width: 100%;
		height: 100%;
	}
	.gmap-overlay{
		background-image: url("/static/img/cat.png");
		-webkit-background-size: cover;
		-moz-background-size: cover;
		-o-background-size: cover;
		background-size: cover;
	}

	</style>
</head>
<body>

<div id="google-maps"></div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="infobubble.js"></script>
<script type="text/javascript" src="markerclusterer.js"></script>
<script type="text/javascript" src="j-map.js"></script>
<script type="text/javascript">



var map_styles =
[
  {
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "featureType": "water",
    "elementType": "geometry.fill",
    "stylers": [
      { "visibility": "on" }
    ]
  },{
    "featureType": "poi.park",
    "elementType": "geometry.fill",
    "stylers": [
      { "visibility": "on" }
    ]
  },{
    "featureType": "landscape",
    "elementType": "geometry.fill",
    "stylers": [
      { "visibility": "on" }
    ]
  },{
    "featureType": "poi.park",
    "elementType": "geometry.stroke",
    "stylers": [
      { "visibility": "on" }
    ]
  	},{
    "featureType": "road.local",
    "elementType": "geometry.fill",
    "stylers": [
      { "visibility": "on" }
    ]
	},{
	  "featureType": "road.arterial",
	  "elementType": "geometry.fill",
	  "stylers": [
	    { "visibility": "on" }
	  ]
    }
]



var jsonRequestData = {"data":[
	{
		"name":"Us",
		"lat":43.649517,
		"lon":-79.397373,
		"icon": 0,
		"altIcon":1,
		"description":"some test info"
	},
	{
		"name":"Them",
		"lat":43.648717,
		"lon":-79.396475,
		"icon": 0,
		"altIcon":1,
		"description":"some test info"
	},

]}






var myMap = $("#google-maps").Jmap({
	mapStyles:map_styles,
	defaultZoom:9,
	locationLat:43.648616,
	locaiotnLon:-79.396644,
	funOnClick:function(id){
		console.log(id)
	}
});
function JmapGoogleReady(){
	myMap.init();

	//this marker type is added at #0, so for the data the icon must be set to #0
	myMap.addMarkerType({
		url: 'http://alsocollective.github.io/also-cdn/js/j-map/static/img/takeaction-btn.png',
		size: [100,100],
		origin: [0,0],
		anchor: [20,90],
		scaledSize:[100,100]
	})
	myMap.addMarkerType({
		url: 'http://alsocollective.github.io/also-cdn/js/j-map/static/img/entry.png',
		size: [22,33],
		origin: [0,0],
		anchor: [11,33],
		scaledSize:[22,33]
	})

	// myMap.setupOverlay();
	myMap.loadData(jsonRequestData);
	myMap.useCluster();
}
</script>
</body>
</html>